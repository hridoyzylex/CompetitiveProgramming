<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml">
<head>

<title>Sphere Online Judge (SPOJ)  - Problem SHPATH</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-2" id="metatag">
<META NAME="Keywords" CONTENT="programming, language, algorithm, spoj, contest, contester, Java, C#, Pascal, C, C++, python, ruby, caml, ocaml, perl, haskell, lisp, prolog, fortran, assembler, asembler, functional, online, judge, problem, problemset, ACM">

<link href="/gfx/favicon.png" rel="shortcut icon" type="image/x-icon">
<link href="/rss/" rel="alternate" type="application/rss+xml" title="RSS Feed">
<link href="/themes/common.css" rel="stylesheet" type="text/css" id="theme">
<link href="/style.css" rel="stylesheet" type="text/css" id="theme">
<link href="/themes/tooltips.css" rel="stylesheet" type="text/css" id="theme">
<script type='text/javascript' src='/gfx/jquery.js'></script>
<script type="text/javascript" src="/gfx/jquery.timers.js"></script>
<style type="text/css">
<!--
.maintable {width: 755px;} 
-->
</style>
<script type="text/javascript" language="javascript">
<!--
function UnCryptMailto(s) {
	var n=0;
	var r="";
	for(var i=0;i<s.length;i++) {		
		n=s.charCodeAt(i); 
		if (n>=8364) {n = 128;}
		r += String.fromCharCode(n+(2));	
	}
	return r;
}
function linkTo_UnCryptMailto(s)	{
	location.href=UnCryptMailto(s);
}
// -->
</script>

<script type="text/javascript">
function recordOutboundLink(link, category, action) {
  try {
    var pageTracker=_gat._getTracker("UA-XXXXX-X");
    pageTracker._trackEvent(category, action);
    setTimeout('document.location = "' + link.href + '"', 100)
  }catch(err){}
}
</script>

    <script type="text/javascript" src="/gfx/SyntaxHighlighter/scripts/shCore.js"></script>
	<script type="text/javascript" src="/gfx/SyntaxHighlighter/scripts/shBrushCpp.js"></script>
	<script type="text/javascript" src="/gfx/SyntaxHighlighter/scripts/shBrushCSharp.js"></script>
    <script type="text/javascript" src="/gfx/SyntaxHighlighter/scripts/shBrushJava.js"></script>
    <script type="text/javascript" src="/gfx/SyntaxHighlighter/scripts/shBrushPhp.js"></script>
    <script type="text/javascript" src="/gfx/SyntaxHighlighter/scripts/shBrushPython.js"></script>
	<link type="text/css" rel="stylesheet" href="/gfx/SyntaxHighlighter/styles/shCore.css"/>
	<link type="text/css" rel="stylesheet" href="/gfx/SyntaxHighlighter/styles/shThemeDefault.css"/>
	
	<script type="text/javascript">
		SyntaxHighlighter.all();
	</script>
	

		<meta property="og:site_name" content="Spoj.pl"/>
    <meta property="og:image" content="http://www.spoj.pl/gfx/spoj-fb.jpg"/>

</head>
<body>
<center>
<table cellpadding="10" cellspacing="0" class="maintable" id="maintable">
<tr>
    <td colspan="2" class="header">
        <table width="100%" border="0" cellpadding="0" cellspacing="0">
        <tr>
		<td class="headerleft"/>
		<td class="headercenter">
<h1><IMG alt="Sphere Online Judge" title="Sphere Online Judge" src="/gfx/sphere-spoj-small.png" border=0 style="margin-top:-4px;margin-bottom:-4px"></h1>

		<div style="position: relative; width: 807px;">
		<div style="position: absolute; left: -192px; top: 8px;"><script type="text/javascript"><!--
google_ad_client = "ca-pub-4453360425583535";
/* Spoj - wiezowiec */
google_ad_slot = "2703472077";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
		</div>
		</td>
		<td class="headerright"/>
	</tr>
	</table>
    </td>
</tr>
<tr><td class="menu" width="92" valign="top">


<div class="menucmd"><a href="/logout"><b style="font-weight:normal">Log Out</b></a><br><b style="font-weight:normal; margin-right:-100px">muntasir</b><br><hr><a href="/uploads">upload&nbsp;files</a><br><a href="/contests/add">add&nbsp;contest</a><br><a href="/groups/add">add&nbsp;group</a><br><a href="/groups">group list</a><br><a href="/problems/my">problem&nbsp;list</a><br><hr><a href="/myaccount">my account</a><br><a href="/tutorials">tutorials</a><br><br><a href="/status">status</a><br><a href="/submit">submit</a><br><a href="/problems/classical/">problems</a><br><a href="/search">search</a><br><br><a href="/">news</a><br><a href="/contests">contests</a><br><a href="/ranks/">ranks</a><br><br><a href="/forum">forum</a><br><a href="/comments">comments</a><br><a href="/tools">tools</a><br><a href="/credits">credits</a><br><hr></div><a href="/problems/classical/"></a><br>

	<div class="time">
Server time:</div>
<div class="time">
2011-10-19
<br>
<b>22 : 54 : 07</b>
</div>

</td><td style="width: 748px; padding:0px;" valign="top" class="content0">
        <table width="100%" cellpadding="0" cellspacing="0">
        <tr>
                <td style="padding:0px;" colspan="2"><center>
                                
                </center></td>
        </tr>
        <tr>
                <td class="content" width="99%" style="padding: 10px"><script type='text/javascript' src='/gfx/jquery.bgiframe.js'></script>
<script type='text/javascript' src='/gfx/jquery.tooltip.js'></script>
<script type='text/javascript' src='/gfx/jquery.cxhelp.js'></script>



 <!-- wykorzystywane w pcontent.html (by wiele) -->

<table class="problems" width="100%">
<tr class="navigation">
<td><a href="/submit/SHPATH/">Submit</a></td>
<td><a href="/status/SHPATH,muntasir/">My submissions</a></td>
<td><a href="/status/SHPATH/">All submissions</a></td>
<td><a href="/ranks/SHPATH/">Best solutions</a></td>
<td><a href="/problems/SHPATH.ps">PS</a></td>
<td><a href="/problems/SHPATH.pdf">PDF</a></td>
<td><a href="/problems/classical/">Back to list</a></td>
</tr>
</table>

<div class="prob">

<!-- google_ad_section_start -->
<!-- plik z pomoca kontekstowa (cxhelp_*) dziedziczony po pindex.html -->

<div style="position: absolute;">
<div class="fb-like" data-href="http://www.spoj.pl/problems/SHPATH/" data-send="true" data-layout="box_count" data-width="70" data-show-faces="false"></div>
</div>

<script type="text/javascript" src="/gfx/jscripts/tiny_mce/plugins/asciimath/js/ASCIIMathMLwFallback.js"></script>
<!--script type="text/javascript" src="/gfx/jscripts/tiny_mce/plugins/asciisvg/js/ASCIIsvgPI.js"></script-->
<script type="text/javascript">
<!--
var AScgiloc = 'http://www.imathas.com/imathas/filter/graph/svgimg.php';
var AMTcgiloc = "/files/gif/";
-->
</script>

<table width="100%" style="margin-top:10px">
<tr>
	<td>
		<h2>SPOJ Problem Set (classical)</h2>
				<h1>15. The Shortest Path</h1>
		<h2>Problem code: SHPATH</h2>
	</td>
	</tr>
</table>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4453360425583535";
/* Spoj - baner gÃ³rny */
google_ad_slot = "5796055248";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<p align="justify">
<P align=justify>
You are given a list of cities. Each direct connection between two
cities has its  transportation cost (an integer bigger than 0).
The goal is to find the paths of
minimum cost between pairs of cities. Assume that the cost
of each path (which is the sum of costs of all direct
connections belongning to this path) is at most 200000.
The name of a city is a string containing characters
a,...,z and is at most 10 characters long.
</p>

<H3>Input</h3>
<P align=justify>
<pre>
<i>s</i> [the number of tests <= 10]
<i>n</i> [the number of cities <= 10000]
<i>NAME</i> [city name]
<i>p</i> [the number of neighbours of city <i>NAME</i>]
<i>nr</i> <i>cost</i> [<i>nr</i> - index of a city connected to <i>NAME</i> (the index of the first city is 1)]
           [<i>cost</i> - the transportation cost]
<i>r</i> [the number of paths to find <= <b>100</b>]
<i>NAME1 NAME2</i> [<i>NAME1</i> - source, <i>NAME2</i> - destination]
[empty line separating the tests]
</pre>
</p>
<H3>Output</h3>
<P align=justify>
<pre>
<i>cost</i> [the minimum transportation cost from city <i>NAME1</i> to city <i>NAME2</i> (one per line)]
</pre>
</p>
<H3>Example</h3>
<P align=justify>
<pre>Input:
1
4
gdansk
2
2 1
3 3
bydgoszcz
3
1 1
3 1
4 4
torun
3
1 3
2 1
4 1
warszawa
2
2 4
3 1
2
gdansk warszawa
bydgoszcz warszawa

Output:
3
2
</pre>
</p>
<b>Warning: large Input/Output data, be careful with certain languages</b>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4453360425583535";
/* Spoj - wiersz */
google_ad_slot = "3432347421";
google_ad_width = 728;
google_ad_height = 15;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<hr>
<table border=0 cellspacing=0 cellpadding=0 align=left style="margin-bottom:10px" class="probleminfo">
<tr><td>Added by:</td><td><a href="/users/deren">Darek Dereniowski</a></td></tr>
<tr><td>Date:</td><td>2004-05-10</td></tr>
<tr><td>Time limit:</td><td>5s
</td></tr>
<tr><td>Source limit:</td><td>50000B</td></tr>
<tr><td>Languages:</td><td>All except: PERL 6 </td></tr>
<tr><td>Resource:</td><td>	DASM Programming League 2003 (problemset 11)</td></tr>	
</table><!-- google_ad_section_end -->

<div id="ccontent">
<!-- google_ad_section_start -->

<hr style="clear:both;"/>
<a href="#" onclick="toggleComments(); return false;"><span id="comments_sh">hide</span> comments</a><br/>

<a id="comments"></a>
<table id="comments_table" width="100%">
		<tr>
		<td colspan="2">
				</td>
	</tr>
	<tr>
		<td colspan="2">
		<script type="text/javascript"><!--
google_ad_client = "ca-pub-4453360425583535";
/* Spoj - wiersz */
google_ad_slot = "3432347421";
google_ad_width = 728;
google_ad_height = 15;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
		</td>
	</tr>
	
	<script language="JavaScript">
	<!--
	$(document).ready(function(){
        $('.pager_link').bind('click', function(me){
                var href=$(me.currentTarget).attr('href');
		$('#ccontent').animate({opacity: 0.5},1);
                $.ajax({
                        type: "GET",
                        url: href+",ajax=1",
                        contentType: "application/x-www-form-urlencoded;charset=ISO-8859-2",
                        success: function(data){
                                $('#ccontent').html(data);
				$('#ccontent').animate({opacity: 1.0},1);
                        },
                        error: function(err){
                                alert('error');
                        }
                });
                return false;
        });
	});
	-->
	</script>
	

			
	<tr>
		<td colspan="2" class="comm comm_odd ">
		<font >
		2011-09-11 15:59:52 <b><a href="/users/blashyrkh">blashyrkh</a></b> 
		</font>
					(<a href="/comment/SHPATH/sh/22874/"><font color="red"><b>hide</b></font></a>)
							(<a href="/comment/SHPATH/edit/22874/"><b>edit</b></a>) 
							(<a href="/comment/SHPATH/del/22874/" onclick="javascript:return confirm('Are you sure you want to delete this comment ?')"><font color="red"><b>delete</b></font></a>)
				<br/>
				@Vladimir Kirichenkoff: yes, std::priority_queue
						</td>
	</tr>
				
	<tr>
		<td colspan="2" class="comm comm_even ">
		<font >
		2011-07-18 00:05:38 <b><a href="/users/casillas">Vladimir Kirichenkoff</a></b> 
		</font>
					(<a href="/comment/SHPATH/sh/21335/"><font color="red"><b>hide</b></font></a>)
							(<a href="/comment/SHPATH/edit/21335/"><b>edit</b></a>) 
							(<a href="/comment/SHPATH/del/21335/" onclick="javascript:return confirm('Are you sure you want to delete this comment ?')"><font color="red"><b>delete</b></font></a>)
				<br/>
				Did anybody solve the task using stl set or priority_queue?
						</td>
	</tr>
				
	<tr>
		<td colspan="2" class="comm comm_odd ">
		<font >
		2011-07-16 03:39:58 <b><a href="/users/gauravmittal">Gaurav Mittal</a></b> 
		</font>
					(<a href="/comment/SHPATH/sh/21269/"><font color="red"><b>hide</b></font></a>)
							(<a href="/comment/SHPATH/edit/21269/"><b>edit</b></a>) 
							(<a href="/comment/SHPATH/del/21269/" onclick="javascript:return confirm('Are you sure you want to delete this comment ?')"><font color="red"><b>delete</b></font></a>)
				<br/>
				my code works perfect when i use it manually,<br/>but here it shows runtime error (SIGKILL)<br/>what should i do?
						</td>
	</tr>
				
	<tr>
		<td colspan="2" class="comm comm_even ">
		<font >
		2011-01-05 23:34:59 <b><a href="/users/johnm91">John Mario</a></b> 
		</font>
					(<a href="/comment/SHPATH/sh/14615/"><font color="red"><b>hide</b></font></a>)
							(<a href="/comment/SHPATH/edit/14615/"><b>edit</b></a>) 
							(<a href="/comment/SHPATH/del/14615/" onclick="javascript:return confirm('Are you sure you want to delete this comment ?')"><font color="red"><b>delete</b></font></a>)
				<br/>
				@J: For more advice go to the forum, here we would be just guessing what may be the slow part of your code, but as an additional note, check how you are making the I/O.
						</td>
	</tr>
				
	<tr>
		<td colspan="2" class="comm comm_odd ">
		<font >
		2010-12-13 18:02:03 <b><a href="/users/abscon">J</a></b> 
		</font>
					(<a href="/comment/SHPATH/sh/13963/"><font color="red"><b>hide</b></font></a>)
							(<a href="/comment/SHPATH/edit/13963/"><b>edit</b></a>) 
							(<a href="/comment/SHPATH/del/13963/" onclick="javascript:return confirm('Are you sure you want to delete this comment ?')"><font color="red"><b>delete</b></font></a>)
				<br/>
				What optimization can be done on this problem ? Mine takes 8.6's on TSHPATH. 
						</td>
	</tr>
				
	<tr>
		<td colspan="2" class="comm comm_even ">
		<font >
		2010-07-02 23:44:48 <b><a href="/users/i_raqibul">&#2476;&#2496;&#2453;&#2494;&#2480;</a></b> 
		</font>
					(<a href="/comment/SHPATH/sh/9777/"><font color="red"><b>hide</b></font></a>)
							(<a href="/comment/SHPATH/edit/9777/"><b>edit</b></a>) 
							(<a href="/comment/SHPATH/del/9777/" onclick="javascript:return confirm('Are you sure you want to delete this comment ?')"><font color="red"><b>delete</b></font></a>)
				<br/>
				@Giovanni Botta : u understand the right thing..!!:)<br/>@Come On! Lets Code : the paths of the graph is unidirectional...!!<br/><br/>happy codding!!
						</td>
	</tr>
				
	<tr>
		<td colspan="2" class="comm comm_odd ">
		<font >
		2010-01-21 17:28:07 <b><a href="/users/beep">beep</a></b> 
		</font>
					(<a href="/comment/SHPATH/sh/5989/"><font color="red"><b>hide</b></font></a>)
							(<a href="/comment/SHPATH/edit/5989/"><b>edit</b></a>) 
							(<a href="/comment/SHPATH/del/5989/" onclick="javascript:return confirm('Are you sure you want to delete this comment ?')"><font color="red"><b>delete</b></font></a>)
				<br/>
				Please clarify whether transportation cost from X1 to X2 may be different from that of from X2 to X1 (input format allows that, but in real life that would sound a little absurd).
						</td>
	</tr>
				
	<tr>
		<td colspan="2" class="comm comm_even ">
		<font >
		2009-12-15 16:53:13 <b><a href="/users/giovanni">Giovanni Botta</a></b> 
		</font>
					(<a href="/comment/SHPATH/sh/5425/"><font color="red"><b>hide</b></font></a>)
							(<a href="/comment/SHPATH/edit/5425/"><b>edit</b></a>) 
							(<a href="/comment/SHPATH/del/5425/" onclick="javascript:return confirm('Are you sure you want to delete this comment ?')"><font color="red"><b>delete</b></font></a>)
				<br/>
				Hi,<br/>I have some questions: is the number of cases the number of lists of cities to process, i.e. of graphs?<br/>And the output should be at the end of all the input right?<br/>Thanks!
						</td>
	</tr>
			
</table>


<script language="javascript" type="text/javascript">
<!--
function getCookieVal (offset) {
        var endstr = document.cookie.indexOf (";", offset);
        if (endstr == -1) { 
                endstr = document.cookie.length; 
        }
        return unescape(document.cookie.substring(offset, endstr));
}

function GetCookie (name) {
  var arg = name + "=";
  var alen = arg.length;
  var clen = document.cookie.length;
  var i = 0;
  while (i < clen) {
    var j = i + alen;
    if (document.cookie.substring(i, j) == arg) {
      return getCookieVal (j);
      }
    i = document.cookie.indexOf(" ", i) + 1;
    if (i == 0) break; 
    }
  return null;
}

function toggleComments() {
        var a = document.getElementById('comments_table');
        var d = a.style.display;
        if( d == "" || d == "block" ){
                d = "none";
                document.getElementById('comments_sh').innerHTML = 'show';
        } else {
                d = "block";
                document.getElementById('comments_sh').innerHTML = 'hide';
        }
        a.style.display = d;
        document.cookie="comments_table="+d+"; path=/;";
}

if( GetCookie('comments_table') == 'none' ){
        document.getElementById('comments_sh').innerHTML = 'show';
        document.getElementById('comments_table').style.display = 'hide';
}

-->
</script>


<!-- google_ad_section_end -->
</div>
<table width="100%">
                <tr>
                <td colspan="2" height="20px"></td>
        </tr>
        <form method="post" action="/comment/SHPATH/add/">
        <tr> <td style="padding-left:5px;" colspan="2">Leave a Comment</td> </tr>
        <tr>
                <td valign="top"></td>
                <td><textarea name="content" cols="40" rows="3"></textarea></td>
        </tr>
                <tr>
                <td colspan="2" style="padding-left: 5px;">
                        <input type="submit" value="Publish"/>
                        <input type="hidden" name="pcode" value="SHPATH"/>
                </td>
        </tr>
<tr>
<td colspan="2" class="smallgrey" style="padding-left:5px;">
Notes:
<br>1. Don't post any source code here.
<br>2. Please be careful, leave short comments only. Don't spam here.
<br>3. For more discussion (hints, ideas, solutions) please visit our <a href="/forum">forum</a>.
<br>4. Authors of the problems are allowed to delete the post and use html code here (e.g. to provide some useful links).
</td>
</tr>
        </form>
        </table>

</div>
        </td>
<tr>
        <td style="padding:0px" colspan="2"><center>
                
</center></td>
</tr>
</table>
</td>
</tr>

<tr>
<td colspan="2" class="footer">
<div class="a-footer"></div>
<script language="javascript" type="text/javascript">
<!--
function swapSheet(sheet, caller) {
    document.getElementById('theme').href=sheet;
    document.cookie="css_0="+sheet+"; path=/;";
    caller.href="#bottom";
}

function setWidth(w, caller) {
    document.getElementById('maintable').style.width=w;
    document.cookie="res="+w+"; path=/;";
    caller.href="#bottom";
}



//-->

</script>
        <table width="100%">
    <tr>
	<td align="left" width=10% class="cfooter">
	<a href="/info/">About SPOJ</a>
	</td>
	<td align="center" class="cfooter">
	    width:
	    <a href="/?rsl=855px"  onClick="setWidth('855px', this)">900</a>
	    <a href="/?rsl=980px"  onClick="setWidth('980px', this)">1024</a>
	    <a href="/?rsl=100%" onClick="setWidth('100%', this)">Full</a>
	    &nbsp;&nbsp;
	    theme:
	    <a href="/?css=/themes/skin1.css" onClick="swapSheet('/themes/skin1.css', this)">olive</a>
	    <a href="/?css=/themes/skin2.css" onClick="swapSheet('/themes/skin2.css', this)">banana</a>
	    <a href="/?css=/themes/skin3.css" onClick="swapSheet('/themes/skin3.css', this)">plum</a>
	    	</td>
		<td align="center" class="cfooter">
		 <span title="The discussion channel of the Sphere Online Judge community.">
		 <a href="irc://irc.freenode.net/spoj"><b>#spoj</b> at freenode</a>
		 </span>
	</td>
		<td width=10% class="cfooter" style="text-align:right">
		<a href="/rss/" ><img src="/gfx/rss10x10.gif" border=0>&nbsp;RSS</a>&nbsp;
	</div>
	</td>
    </tr>
    </table>
    </tr></table>
</center>
<div class="a-header"></div>

<div id="fb-root"></div>
<script src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script>

<div style="font-size:10px; margin-top:4px; color: rgb(85,80,95);"><center>
<a href="http://www.spoj.pl" style="color:black">SPOJ</a>
System &copy; 2011
<a href="http://sphere-research.com" style="color:black">Sphere Research Labs | Projekty informatyczne i aplikacje na zamówienie</a>. 
All Rights Reserved.</center></div>

<script type="text/javascript">
  var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-10507872-1']);
      _gaq.push(['_trackPageview']);
        (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		      })();
		      </script>
		      
</body>
</html>